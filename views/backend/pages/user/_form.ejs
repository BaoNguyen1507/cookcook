<form autocomplete="off" id="formUser" class="" enctype="multipart/form-data" data-edit-id="<%= (userObj.id?userObj.id:'') %>" 
  data-fv-message="<%= __('Invalidate') %>" data-fv-icon-valid="glyphicon glyphicon-ok"
  data-fv-icon-invalid="glyphicon glyphicon-remove" data-fv-icon-validating="glyphicon glyphicon-refresh"
  data-fv-live="enabled" data-manner="<%= (userObj.id == undefined) ? 'add' : 'edit' %>">

  <input value="<%= userObj.id %>" id="id" name="id" hidden>
  <!-- avatar -->
  <div class="row">
    <div class="col-12 text-center">
      <div class="form-group">
        <input type="file" data-default-file="<%= userObj.avatar? userObj.avatar : '/images/avatar2.png' %>" class="dropify" name="thumbnail" data-field="thumbnail" data-max-file-size="10M" />
      </div>
    </div>
  </div>
  <!-- accordion content -->
  <div class="accordion accordion-solid-header grid-margin" id="ObjInfo" role="tablist">
    <!-- info -->
    <div class="card m-0">
      <div id="infoContent" class="collapse show" role="tabpanel" aria-labelledby="basicInfo"
        data-parent="#userInfo">
        <div class="row">
          <div class="col-6">
            <!-- firstName -->
            <div class="form-group">
              <label class="form-control-label">
                <%= __('First Name') %>
              </label>
              <input type="text" class="form-control" id="firstName" value="<%=(userObj.firstName) ? userObj.firstName : ''%>" name="firstName" placeholder="<%= __('First Name') %>"
                value="<%= userObj.firstName %>" data-fv-notempty="true"
                data-fv-notempty-message="<%= __('First name is required !') %>" data-fv-stringlength="true"
                data-fv-stringlength-min="2" data-fv-stringlength-max="20"
                data-fv-stringlength-message="<%= __('Min length is 2 and max length is 20.') %>">
            </div>
          </div>
          <div class="col-6">
            <!-- lastName -->
            <div class="form-group">
              <label class="form-control-label">
                <%= __('Last Name') %>
              </label>
              <input type="text" class="form-control" id="lastName" value="<%=(userObj.lastName) ? userObj.lastName : ''%>" name="lastName" placeholder="<%= __('Last Name') %>"
                value="<%= userObj.lastName %>" data-fv-notempty="true"
                data-fv-notempty-message="<%= __('Last name is required !') %>" data-fv-stringlength="true"
                data-fv-stringlength-min="2" data-fv-stringlength-max="20"
                data-fv-stringlength-message="<%= __('Min length is 2 and max length is 20.') %>">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <!-- email -->
            <div class="form-group">
              <label class="form-control-label">
                <%= __('E-mail') %>
              </label>
              <% if(manner == 'add'){%>
              <input type="email" class="form-control" name="emailAddress" value="<%=(userObj.emailAddress) ? userObj.emailAddress : ''%>"
                email-existence="<%= __('Email is existed') %>"
                data-fv-notempty="true" data-fv-notempty-message="<%= __('Email is required') %>"
                data-fv-message="<%= __('Email format is invalid') %>" required>
              <%}else{%>
                <input class="form-control" name="emailAddress" readonly value="<%=(userObj.emailAddress) ? userObj.emailAddress : ''%>">
              <%}%>
            </div>
          </div>
          <div class="col-6">
            <!-- phone number -->
            <div class="form-group">
              <label class="form-control-label">
                <%= __('Phone') %>
              </label>
              <input id="phone" type="tel" class="form-control" name="phone" value="<%=(userObj.phone) ? userObj.phone : ''%>"
                pattern="[0-9]{10,11}$" data-fv-notempty="true" data-fv-notempty-message="<%= __('Phone is required') %>"
                data-fv-message="<%= __('Phone is 10 or 11 number') %>" data-fv-stringlength="true"
                data-fv-stringlength-max="11" required>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <!-- birthDay -->
            <div class="form-group">
              <label for="dateOfBirth"><%= __('Birthday') %></label>
              <input type="date" class="form-control" id="dateOfBirth" name="dateOfBirth" placeholder="Birthday"
                value="<%= userObj.birthday %>" data-fv-notempty="true"
                data-fv-notempty-message="<%= __('Birthday is required !') %>"
                data-fv-date___format="<%= __('DD/MM/YYYY') %>"
                data-fv-date___message="<%= __('Birthday format is invalid') %>">
            </div>
          </div>
          <div class="col-6">
            <!-- address -->
            <div class="form-group">
              <label for="address"><%= __('Address') %></label>
              <input type="text" class="form-control" id="address" name="address" value="<%= userObj.address %>" placeholder=""
                data-fv-notempty="true"
                data-fv-notempty-message="<%= __('Required field') %>" data-fv-stringlength="true"
                data-fv-stringlength-min="2" data-fv-stringlength-max="120"
                data-fv-stringlength-message="<%= __('Address must be at least 2 characters') %>">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <!-- password -->
            <div class="form-group"> 
              <% if (userObj.id == undefined) { %>
              <label class="form-control-label"><%= __('Password') %></label>
              <input type="password" class="form-control" name="password" id="password" 
              data-fv-notempty="true" data-fv-notempty-message="<%= __('Password is required!') %>"
              data-fv-message="<%= __('Password must contain 6 number!') %>"
              pattern="^(?=.{6}$) *\d* *$"/>
              <% } else { %>
              <label class="form-control-label"><%= __('New password') %></label>
              <input type="password" class="form-control" name="password" id="password" data-fv-notempty-message="<%= __('Password is required!') %>"
              data-fv-message="<%= __('Password must contain 6 number!') %>"
              pattern="^(?=.{6}$) *\d* *$"/>
              <% } %>
            </div>
          </div>
          <div class="col-6">
            <!-- enter the password -->
            <div class="form-group">
              <label class="form-control-label"><%= __('Confirm password') %></label>
              <% if (userObj.id == undefined) { %>
              <input type="password" class="form-control" name="passwordConfirm" id="confirm_password" 
                data-fv-notempty="true" data-fv-notempty-message="<%= __('Password is required!') %>"/>
              <% } else { %>
              <input type="password" class="form-control" name="passwordConfirm" id="confirm_password" />
              <% } %>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-6">
            <div class="form-group">
               <label class="form-control-label">
                <%= __('Classes') %>
              </label>
              <select id="classes" name="classes" class="form-control js-process-basic-multiple  select2-multiple"
                data-placeholder="<%= __('Choose') %>" multiple="multiple">
                <%  
                  var classIds = []; 
                  if(userObj.classes){
                    _.each(userObj.classes, function (cls, ind) {
                      classIds.push(cls.id);
                    });
                  }
                  _.each(Lclass, function (classObj, index) {
                %>
                <option value="<%= classObj.id %>" <%= (classIds.indexOf(classObj.id) != -1 ? 'selected' : '')%>>
                  <%= classObj.title %>
                </option>
                <% }) %>
              </select>
            </div>
          </div>
          <div class="col-6">
            <!-- position -->
            <div class="form-group">
              <label class="form-control-label">
                <%= __('Group') %>
              </label>
              <ul class="list-unstyled list-inline">
                <li class="list-inline-item">
                  <div class="form-check">
                    <div class="form-check-label">
                        <input type="radio" id="userTypeStaff" name="userType" class="form-check-input" value="2" <%= (userObj.userType == 2 ? 'checked' : '') %> checked />
                        <i class="input-helper"></i>
                          <%= __('Staff') %>
                        </label>
                      </div>
                  </div> 
                </li>
                <li class="list-inline-item">
                  <div class="form-check">
                    <label class="form-check-label">
                    <input type="radio" id="userTypeTeacher" class="form-check-input" name="userType" value="1" <%= (userObj.userType == 1 ? 'checked' : '') %> />
                    <i class="input-helper"></i>
                      <%= __('Teacher') %>
                    </label>
                  </div>
                </li>
                <li class="list-inline-item">
                  <div class="form-check">
                    <label class="form-check-label">
                    <input type="radio" id="userTypeSchoolAdmin" class="form-check-input" name="userType" value="1" <%= (userObj.userType == 3 ? 'checked' : '') %> />
                    <i class="input-helper"></i>
                      <%= __('School Admin') %>
                    </label>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- btn Submit -->
  <div class="form-group">
    <label class="form-control-label">
      <%= __('Status') %>
    </label>
    <ul class="list-unstyled list-inline">
      <li class="list-inline-item">
        <div class="form-check">
          <label class="form-check-label">
            <input id="statusPublish" type="radio" class="form-check-input" name="status" value="1" checked
              <%=(userObj.status == 1)? 'checked':''%> />
            <i class="input-helper"></i>
            <%= __('Active') %>
          </label>
        </div>
      </li>
      <li class="list-inline-item">
        <div class="form-check">
          <label class="form-check-label">
            <input id="statusActive" type="radio" class="form-check-input" name="status" value="0"
              <%=(userObj.status == 0)? 'checked':''%> />
            <i class="input-helper"></i>
            <%= __('Draft') %>
          </label>
        </div>
      </li>
    </ul>
  </div>
  <div class="row">
      <div class="col-12">
        <div class="alert alert-dismissible hidden" role="alert" data-alert-update="<%= __('Update successfully') %>">
          <%= __('Update successfully') %>
        </div>
      </div>
    <div class="col-12">
      <div class="form-group form-material">
        <button id="btnFormUser" type="submit"
          class="btn btn-primary"><%= userObj.id ? __('Update') : __('Add New') %></button>
      </div>
    </div>
  </div>
</form>