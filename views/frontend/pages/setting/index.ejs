<% block('localCss', '<link rel="stylesheet" href="/vendors/bootstrap-material-datetimepicker/css/bootstrap-material-datetimepicker.css"></script>') %>
<div class="card">
  <div class="card-body">
    <!-- <h4 class="card-title"><%= __('General settings') %></h4> -->
    <!-- Page Content -->
    <form autocomplete="off" id="formSetting" class="" data-fv-framework="bootstrap4" data-fv-message="<%= __('Invalidate') %>"
        data-fv-icon-valid="glyphicon glyphicon-ok" data-fv-icon-invalid="glyphicon glyphicon-remove" data-fv-icon-validating="glyphicon glyphicon-refresh"
        data-fv-live="enabled" data-manner="edit">
          <div class="row">
            <div class="col-md-12 col-lg-12">
              <!-- Example Tabs -->
              <div class="example-wrap">
                  <div class="nav-tabs-horizontal" data-plugin="tabs">
                    <ul class="nav nav-tabs" role="tablist">
                      <li class="nav-item" role="presentation"><a class="nav-link active" data-toggle="tab" href="#general"
                        aria-controls="app" role="tab"><%= __('General')%></a></li>
                      <li class="nav-item" role="presentation"><a class="nav-link" data-toggle="tab" href="#web"
                          aria-controls="web" role="tab"><%= __('Web')%></a></li>
                      <li class="nav-item" role="presentation"><a class="nav-link" data-toggle="tab" href="#app"
                          aria-controls="app" role="tab"><%= __('App')%></a></li>
                      
                    </ul>
                    <div class="tab-content pt-3">
                      <div class="tab-pane active" id="general" data-countSlot="<%= web.value.rangeTimeMenu ? web.value.rangeTimeMenu.length : 0 %>" role="tabpanel">
                          <div class="row">
                            <div class="col-12">
                              <div class="accordion" id="accordion" role="tablist">
                              </div>
                            </div>
                          </div>
                          <div class="card">
                            <div class="card-header" role="tab" id="heading-0">
                              <h6 class="mb-0">
                                <a data-toggle="collapse" href="#collapse-0" aria-expanded="true" aria-controls="collapse-0" class="collapsed">
                                    <%= __('Menu settings') %>
                                </a>
                              </h6>
                            </div>
                            <div id="collapse-0" class="collapse show" role="tabpanel" aria-labelledby="heading-0" data-parent="#accordion">
                              <div class="card-body">
                                <div class="repeater">
                                  <div class="slotFeedings" data-repeater-list="slotFeedings">
                                  <% if (web && web.value && web.value.rangeTimeMenu && web.value.rangeTimeMenu.length > 0) { 
                                    for (let i = 0; i < web.value.rangeTimeMenu.length; i++ ) {%>
                                    <div data-repeater-item class="row">
                                      <div class="col-4">
                                        <div class="form-group">
                                          <label><%= __('Name') %></label>
                                          <input type="text" name="name" class="form-control" value="<%= web.value.rangeTimeMenu[i].name %>" />
                                        </div>
                                      </div>
                                      <div class="col-3">
                                        <div class="form-group">
                                          <label><%= __('Start time') %></label>
                                          <div class="input-group date timeStart" data-target-input="nearest"  id="timeStart<%=i%>" data-target="#timeStart<%=i%>">
                                            <div class="input-group timeStart" id="timeStart<%=i%>" data-target="#timeStart<%=i%>"
                                              data-toggle="datetimepicker">
                                              <input type="text" name="timeStart" class="form-control bootstrap-datetimepicker-input"  id="timeStart<%=i%>" data-target="#timeStart<%=i%>" value="<%= web.value.rangeTimeMenu[i].timeStart %>"  data-value="<%= web.value.rangeTimeMenu[i].timeStart %>" />
                                              <div class="input-group-addon input-group-append">
                                                <i class="mdi mdi-clock input-group-text"></i>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="col-3">
                                        <div class="form-group">
                                          <label><%= __('End time') %></label>
                                          <div class="input-group date timeEnd" data-target-input="nearest"  id="timeEnd<%=i%>" data-target="#timeEnd<%=i%>">
                                            <div class="input-group timeEnd" id="timeEnd<%=i%>" data-target="#timeEnd<%=i%>"
                                              data-toggle="datetimepicker">
                                              <input type="text" name="timeEnd" class="form-control bootstrap-datetimepicker-input"  id="timeEnd<%=i%>" data-target="#timeEnd<%=i%>" value="<%= web.value.rangeTimeMenu[i].timeEnd %>" data-value="<%= web.value.rangeTimeMenu[i].timeEnd %>" />
                                              <div class="input-group-addon input-group-append">
                                                <i class="mdi mdi-clock input-group-text"></i>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                      <div class="col-2 d-flex align-items-center">
                                        <button data-repeater-delete type="button" class="btn btn-danger btn-sm icon-btn ml-2">
                                          <i class="mdi mdi-delete"></i>
                                        </button>
                                      </div>
                                    </div>
                                    <% }
                                  }%>
                                  </div>
                                  <button data-repeater-create type="button" class="btn btn-info btn-sm icon-btn">
                                    <i class="mdi mdi-plus"></i>
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="card">
                            <div class="card-header" role="tab" id="heading-3">
                              <h6 class="mb-0">
                                <a data-toggle="collapse" href="#collapse-3" aria-expanded="true" aria-controls="collapse-3" class="collapsed">
                                    <%= __('More settings') %>
                                </a>
                              </h6>
                            </div>
                            <div id="collapse-3" class="collapse show" role="tabpanel" aria-labelledby="heading-3" data-parent="#accordion">
                              <div class="card-body">
                                <div class="row">
                                  <div class="col-6">
                                    <div class="form-group">
                                      <label class="form-control-label"><%= __('Weekend: ') %></label>
                                      <select id="weekend" name="weekend" class="form-control js-process-basic-multiple  select2-multiple"
                                        data-placeholder="<%= __('Choose') %>" multiple="multiple">
                                        <option value="1" <%= web && web.value &&  web.value.weekend.includes('1') ? 'selected' : ''%>>
                                            <%= __('Monday') %>
                                        </option>
                                        <option value="2" <%= web && web.value && web.value.weekend.includes('2') ? 'selected' : ''%>>
                                            <%= __('Tuesday') %>
                                        </option>
                                        <option value="3" <%= web && web.value && web.value.weekend.includes('3') ? 'selected' : ''%>>
                                            <%= __('Wednesday') %>
                                        </option>
                                        <option value="4" <%= web && web.value && web.value.weekend.includes('4') ? 'selected' : ''%>>
                                            <%= __('Thursday') %>
                                        </option>
                                        <option value="5" <%= web && web.value && web.value.weekend.includes('5') ? 'selected' : ''%>>
                                            <%= __('Friday') %>
                                        </option>
                                        <option value="6" <%= web && web.value && web.value.weekend.includes('6') ? 'selected' : ''%>>
                                            <%= __('Saturday') %>
                                        </option>
                                        <option value="7" <%= web && web.value && web.value.weekend.includes('7') ? 'selected' : ''%>>
                                            <%= __('Sunday') %>
                                        </option>
                                        </select>
                                    </div>
                                  </div>
                                  <div class="col-6">
                                      <div class="form-group">
                                        <label class="form-control-label"><%= __('Maximum size of file upload (MB): ') %></label>
                                        <input type="number" class="form-control" value="<%=web.value.maximumUploadSize%>" id="maximumUploadSize" name="maximumUploadSize">
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col-6">
                                    <div class="form-group">
                                      <label class="form-control-label"><%= __('Turn on shuttle person info: ') %></label>
                                      <ul class="list-unstyled list-inline">
                                        <li class="list-inline-item">
                                          <div class="radio-custom radio-primary">
                                            <input type="radio" name="allowShuttlePersonInfo" value="1" <%=web&&web.value&&web.value.allowShuttlePersonInfo==true?'checked':''%> />
                                            <label for="">
                                                <%= __('On')%>
                                            </label>
                                          </div>
                                        </li>
                                        <li class="list-inline-item">
                                          <div class="radio-custom radio-primary">
                                            <input type="radio" name="allowShuttlePersonInfo" value="0" <%=web&&web.value&&web.value.allowShuttlePersonInfo==false?'checked':''%> />
                                            <label for="">
                                                <%= __('Off')%>
                                            </label>
                                          </div>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                                </div>
                            </div>
                          </div>
                        </div>
                      <div class="tab-pane" id="web" role="tabpanel">
                            <div class="form-group">
                              <label><%= __('Name')%></label>
                              <input type="text" class="form-control" value="<%= web && web.value && web.value.name ? web.value.name : '' %>" id="webName" name="webName">
                              <span class="text-help"></span>
                            </div>
                            <div class="form-group">
                                <label><%= __('Description')%></label>
                              <input type="text" class="form-control" value="<%= web && web.value && web.value.description ? web.value.description : '' %>" id="webDescription" name="webDescription">
                              <span class="text-help"></span>
                            </div>
                            <div class="form-group">
                              <label><%= __('Version')%></label>
                              <input type="text" class="form-control" value="<%= web && web.value && web.value.version ? web.value.version : ''%>" id="webVersion" name="webVersion">
                              <span class="text-help"></span>
                            </div> 
                            <div class="form-group">
                              <label><%= __('Date format')%></label>
                              <fieldset>
                                <label><input type="radio" name="webDateFormat" value="MMM Do YYYY" <%= (web && web.value && web.value.dateFormat == "MMM Do YYYY")? 'checked="checked"': ''%>> <span class="date-time-text format-i18n">July 5, 2019</span> [<code>F j, Y</code>]</label><br>
                                <label><input type="radio" name="webDateFormat" value="YYYY/MM/DD" <%= (web && web.value && web.value.dateFormat == "YYYY/MM/DD")? 'checked="checked"': ''%>> <span class="date-time-text format-i18n">2019-07-15</span> [<code>Y-m-d</code>]</label><br>
                                <label><input type="radio" name="webDateFormat" value="MM/DD/YYYY" <%= (web && web.value && web.value.dateFormat == "MM/DD/YYYY")? 'checked="checked"': ''%>> <span class="date-time-text format-i18n">07/15/2019</span> [<code>m/d/Y</code>]</label><br>
                                <label><input type="radio" name="webDateFormat" value="DD/MM/YYYY" <%= (web && web.value && web.value.dateFormat == "DD/MM/YYYY")? 'checked="checked"': ''%>> <span class="date-time-text format-i18n">15/07/2019</span> [<code>d/m/Y</code>]</label><br>
                                <label><input type="radio" name="webDateFormat" value="DD-MM-YYYY" <%= (web && web.value && web.value.dateFormat == "d-m-Y")? 'checked="checked"': ''%>> <span class="date-time-text format-i18n">15-07-2019</span> [<code>d-m-Y</code>]</label><br>
                                <label><input type="radio" name="webDateFormat" value="MM-DD-YYYY" <%= (web && web.value && web.value.dateFormat == "m-d-Y")? 'checked="checked"': ''%>> <span class="date-time-text format-i18n">07-15-2019</span> [<code>m-d-Y</code>]</label>
                              </fieldset>
                            </div>
                      </div>
                      <div class="tab-pane" id="app" role="tabpanel">
                        <div class="form-group">
                          <label><%= __('Name')%></label>
                          <input type="text" class="form-control" value="<%= app && app.value && app.value.name %>" id="appName" name="appName">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Description')%></label>
                          <input type="text" class="form-control" value="<%= app && app.value && app.value.description %>" id="appDescription" name="appDescription">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Version')%></label>
                          <input type="text" class="form-control" value="<%= app && app.value && app.value.version %>" id="appVersion" name="appVersion">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Allow reinstall app?')%></label>
                          <ul class="list-unstyled list-inline">
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="reinstallYes" name="appReinstall" value="1" <%=app&&app.value&&app.value.reinstall==true?'checked':''%> />
                                <label for="">
                                  <%= __('Yes')%>
                                </label>
                              </div>
                            </li>
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="reinstallNo" name="appReinstall" value="0" <%=app&&app.value&&app.value.reinstall==false?'checked':''%> />
                                <label for="">
                                  <%= __('No')%>
                                </label>
                              </div>
                            </li>
                          </ul>
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Technical e-mail')%></label>
                          <input type="text" class="form-control " value="<%= app.value.mailTechnical %>" id="appMailTechnical" name="appMailTechnical">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Sales e-mail')%></label>
                          <input type="text" class="form-control " value="<%= app.value.mailSales %>" id="appMailSales" name="appMailSales">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Hotline')%></label>
                          <input type="text" class="form-control " value="<%= app.value.hotline %>" id="appHotline" name="appHotline">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Technical phone')%></label>
                          <input type="text" class="form-control " value="<%= app.value.phoneTechnical %>" id="appPhoneTechnical" name="appPhoneTechnical">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Sales phone')%></label>
                          <input type="text" class="form-control " value="<%= app.value.phoneSales %>" id="appPhoneSales" name="appPhoneSales">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                          <label><%= __('Maximum number of albums displayed on home page')%></label>
                          <input type="number" class="form-control " value="<%= app.value.maxAlbum %>" id="appMaxAlbum" name="appMaxAlbum">
                          <span class="text-help"></span>
                        </div>
                        <div class="form-group">
                            <label><%= __('Allow push notifications for news')%></label>
                          <ul class="list-unstyled list-inline">
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="newsYes" name="appNotificationNews" value="1" <%=app&&app.value&&app.value.notificationNews==true?'checked':''%> />
                                <label for="inputRadiosNewsYes">
                                    <%= __('Yes')%>
                                </label>
                              </div>
                            </li>
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="newsNo" name="appNotificationNews" value="0" <%=app&&app.value&&app.value.notificationNews==false?'checked':''%> />
                                <label for="inputRadiosNewsNo">
                                    <%= __('No')%>
                                </label>
                              </div>
                            </li>
                          </ul>
                        </div>  
                        <div class="form-group">
                            <label><%= __('Allow push notifications for album')%></label>
                          <ul class="list-unstyled list-inline">
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="albumYes" name="appNotificationAlbum" value="1" <%=app&&app.value&&app.value.notificationAlbum==true?'checked':''%> />
                                <label for="inputRadiosAlbumYes">
                                    <%= __('Yes')%>
                                </label>
                              </div>
                            </li>
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="albumNo" name="appNotificationAlbum" value="0" <%=app&&app.value&&app.value.notificationAlbum==false?'checked':''%> />
                                <label for="inputRadiosAlbumNo">
                                    <%= __('No')%>
                                </label>
                              </div>
                            </li>
                          </ul>
                        </div>

                        <div class="form-group">
                            <label><%= __('Allow push notifications for menus')%></label>
                          <ul class="list-unstyled list-inline">
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="menuYes" name="appNotificationMenu" value="1" <%=app&&app.value&&app.value.notificationMenu==true?'checked':''%> />
                                <label for="inputRadiosMenuYes">
                                    <%= __('Yes')%>
                                </label>
                              </div>
                            </li>
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="menuNo" name="appNotificationMenu" value="0" <%=app&&app.value&&app.value.notificationMenu==false?'checked':''%> />
                                <label for="inputRadiosMenuNo">
                                    <%= __('No')%>
                                </label>
                              </div>
                            </li>
                          </ul>
                        </div>

                        <div class="form-group">
                            <label><%= __('Allow push notifications for schedules')%></label>
                          <ul class="list-unstyled list-inline">
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="scheduleYes" name="appNotificationSchedule" value="1" <%=app&&app.value&&app.value.notificationSchedule==true?'checked':''%> />
                                <label for="inputRadiosScheduleYes">
                                  <%= __('Yes')%>
                                </label>
                              </div>
                            </li>
                            <li class="list-inline-item">
                              <div class="radio-custom radio-primary">
                                <input type="radio" id="scheduleNo" name="appNotificationSchedule" value="0" <%=app&&app.value&&app.value.notificationSchedule==false?'checked':''%> />
                                <label for="inputRadiosScheduleNo">
                                  <%= __('No')%>
                                </label>
                              </div>
                            </li>
                          </ul>
                        </div> 
                      </div> 
                      
                      <div class="alert alert-success hidden" role="alert">
                          <%= __('Update successfully') %>
                      </div>
                      <button id="btnFormSetting" type="submit" class="btn btn-primary mr-2"><%= __('Save') %></button>
                    </div>
                  </div>
              </div> 
            </div>
          </div>
    </form>
    <!--End Page content-->
  </div>
</div>

<% block('localScripts', '<script src="/vendors/moment/moment.min.js"></script>') %>
<% block('localScripts', '<script src="/vendors/moment/moment-timezone.min.js"></script>') %>
<% block('localScripts', '<script src="/vendors/sweetalert/sweetalert.min.js"></script>') %>
<% block('localScripts', '<script src="/vendors/bootstrap-material-datetimepicker/js/bootstrap-material-datetimepicker.js"></script>') %>
<% block('localScripts', '<script src="/vendors/jquery.repeater/jquery.repeater.min.js"></script>') %>
<% block('localScripts', '<script src="/js/backend/setting/index.js"></script>') %>